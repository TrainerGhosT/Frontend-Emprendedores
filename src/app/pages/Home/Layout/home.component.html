<header class="antialiased">
  <nav class="px-4 py-3 bg-gray-900 border-gray-300 lg:px-6">
    <div class="flex flex-wrap items-center justify-between">
      <div class="flex items-center justify-start gap-4">
        <LogoComponent />
      </div>
      
      <div class="flex items-center gap-4">
        <span
          class="px-2.5 py-0.5 rounded-full text-sm font-medium"
          [ngClass]="{
            'bg-indigo-400 text-indigo-900': userRole() === 'emprendedor',
            'bg-emerald-400 text-emerald-900': userRole() !== 'emprendedor'   
          }"
        >
          {{ userRole() }}
        </span>
        <AvatarMenuComponent />
      </div>
    </div>
  </nav>
</header>

<div class="min-h-screen p-4 text-white bg-gray-900 lg:p-6">
  <div>
    <h1 class="text-2xl font-semibold text-slate-200">
      Bienvenido {{ userName() }}, a la Plataforma de Ferias de Emprendedores
    </h1>
    <!-- Grid de Navegación -->
    <div class="grid grid-cols-1 gap-6 mt-6 mb-10 md:grid-cols-2 lg:grid-cols-4">
      <!-- Perfil -->
      <div class="p-6 transition-transform transform hover:scale-105 bg-slate-800 rounded-xl">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          class="mb-4 text-primary"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"
          />
        </svg>
        <h3 class="mb-2 font-semibold">Perfil</h3>
        <p class="text-sm text-gray-400">Gestiona tu información personal</p>
      </div>

      <!-- Ferias -->
      <div class="p-6 transition-transform transform hover:scale-105 bg-slate-800 rounded-xl">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          class="mb-4 text-primary"
          viewBox="0 0 16 16"
        >
          <path
            d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"
          />
        </svg>
        <h3 class="mb-2 font-semibold">Ferias</h3>
        <p class="text-sm text-gray-400">Explora eventos disponibles</p>
      </div>

      <!-- Notificaciones -->
      <div class="relative p-6 transition-transform transform hover:scale-105 bg-slate-800 rounded-xl">
        <div class="absolute flex items-center justify-center w-6 h-6 text-xs text-white bg-indigo-700 rounded-full top-4 right-4">
          3
        </div>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="27"
          height="27"
          class="mb-3 fill-white bi bi-bell"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6"
          />
        </svg>
        <h3 class="mb-2 font-semibold">Notificaciones</h3>
        <p class="text-sm text-gray-400">Revisa tus alertas y mensajes</p>
      </div>

      <!-- Reportes -->
      <div class="p-6 transition-transform transform hover:scale-105 bg-slate-800 rounded-xl">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          class="mb-4 text-primary"
          viewBox="0 0 16 16"
        >
          <path
            d="M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0z"
          />
          <path
            d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"
          />
          <path
            d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"
          />
        </svg>
        <h3 class="mb-2 font-semibold">Reportes</h3>
        <p class="text-sm text-gray-400">Analiza tus estadísticas</p>
      </div>
    </div>

    <!-- Preview de Ferias Inscritas -->
    <div class="px-4 space-y-4 sm:px-6">
      <h2 class="mb-4 text-2xl font-bold text-gray-900 dark:text-slate-200">
        Mis Inscripciones
      </h2>

      @if (registeredFairs().length > 0) {
      <div class="grid gap-6">
        @for (fair of registeredFairs(); track fair.id) {
        <div class="overflow-hidden transition-all duration-300 bg-white shadow-lg hover:shadow-xl dark:bg-slate-800 rounded-xl">
          <div class="flex">
            <div class="flex-shrink-0 w-48">
              <img
                [src]="fair.image"
                [alt]="fair.title"
                class="object-cover w-full h-full"
              />
            </div>
            <div class="flex-1 p-6">
              <div class="flex items-center justify-between">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                  {{ fair.title }}
                </h3>
                <span
                  class="px-3 py-1 text-sm font-medium rounded-full"
                  [ngClass]="{
                    'bg-indigo-900 text-indigo-200': fair.category === 'Tecnología',
                    'bg-green-900 text-green-200': fair.category !== 'Tecnología'
                  }"
                >
                  {{ fair.category }}
                </span>
              </div>
              <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
                {{ fair.description }}
              </p>
              <div class="flex items-center justify-between mt-4">
                <span class="text-sm text-gray-500 dark:text-gray-400">
                  {{ fair.date }}
                </span>
              </div>
            </div>
          </div>
        </div>
        }
      </div>
      } @else {
      
      <div class="p-8 mx-auto text-center rounded-lg shadow-md max-w-screen-2xl bg-slate-800">
        <EmptyDataComponent
          title="No tienes inscripciones activas"
          description="Explora las ferias disponibles y únete a los eventos que más te interesen"
          actionText="Explorar Ferias"
          actionLink="/home/ferias"
        />
      </div>
      }
      @if (registeredFairs().length > 0) {
      <div class="mt-6 text-center">
        <button
          class="inline-flex items-center px-6 py-3 text-base font-medium text-white transition-colors border border-transparent rounded-md bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"
        >
          Ver Historial Completo
          <svg
            class="w-5 h-5 ml-2 -mr-1"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 7l5 5m0 0l-5 5m5-5H6"
            ></path>
          </svg>
        </button>
      </div>
      }
    </div>
  </div>
</div>
